#https://fajarwz.com/blog/simple-full-stack-crud-with-nextjs-14-postgresql-and-prisma/

âžœ  next nvm alias default lts/hydrogen
default -> lts/hydrogen (-> v18.20.2)
âžœ  next npx create-next-app@latest blog-nextjs-crud
> npx
> create-next-app blog-nextjs-crud

âœ” Would you like to use TypeScript? â€¦ No / Yes
âœ” Would you like to use ESLint? â€¦ No / Yes
âœ” Would you like to use Tailwind CSS? â€¦ No / Yes
âœ” Would you like to use `src/` directory? â€¦ No / Yes
âœ” Would you like to use App Router? (recommended) â€¦ No / Yes
âœ” Would you like to customize the default import alias (@/*)? â€¦ No / Yes
Creating a new Next.js app in /Users/binu.b.varghese/source/next/blog-nextjs-crud.

âžœ  next cd blog-nextjs-crud
âžœ  blog-nextjs-crud git:(main) code .

âžœ  npm install
âžœ  npm install prisma --save-dev
âžœ  npx prisma init

Next steps:
1. Set the DATABASE_URL in the .env file to point to your existing database. If your database has no tables yet, read https://pris.ly/d/getting-started
2. Set the provider of the datasource block in schema.prisma to match your database: postgresql, mysql, sqlite, sqlserver, mongodb or cockroachdb.
3. Run prisma db pull to turn your database schema into a Prisma schema.
4. Run prisma generate to generate the Prisma Client. You can then start querying your database.

More information in our documentation:
https://pris.ly/d/getting-started

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developing real-time features?                                â”‚
â”‚  Prisma Pulse lets you respond instantly to database changes.  â”‚
â”‚  https://pris.ly/cli/pulse                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# Create database on PgAdmin blog_nextjs_crud
# Update .env ( get userid password from docker-compose.yaml)
# Add table definition in schema.prisma

âžœ  blog-nextjs-crud git:(main) âœ— npx prisma db push

> blog-nextjs-crud@0.1.0 npx
> prisma db push

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "blog_nextjs_crud", schema "public" at "localhost:5432"

ðŸš€  Your database is now in sync with your Prisma schema. Done in 404ms

Running generate... (Use --skip-generate to skip the generators)

added 1 package, and audited 370 packages in 7s

137 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

âœ” Generated Prisma Client (v5.16.1) to ./node_modules/@prisma/client in 144ms

# The above step created the table with follwing SQL on PostgreSQL
CREATE TABLE IF NOT EXISTS public."Post"
(
    id text COLLATE pg_catalog."default" NOT NULL,
    title character varying(255) COLLATE pg_catalog."default" NOT NULL,
    content text COLLATE pg_catalog."default" NOT NULL,
    "createdAt" timestamp(3) without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" timestamp(3) without time zone NOT NULL,
    CONSTRAINT "Post_pkey" PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public."Post"
    OWNER to postgres;

#npm install zod

âžœ  blog-nextjs-crud git:(main) âœ— npm run dev

> blog-nextjs-crud@0.1.0 dev
> next dev

  â–² Next.js 14.2.4
  - Local:        http://localhost:3000
  - Environments: .env

 âœ“ Starting...
 âœ“ Ready in 10.9s
 â—‹ Compiling / ...
 âœ“ Compiled / in 11s (598 modules)
 âœ“ Compiled in 1445ms (260 modules)
 GET / 200 in 12618ms
 â—‹ Compiling /posts/create ...
 âœ“ Compiled /posts/create in 595ms (606 modules)
 GET /posts/create 200 in 887ms
 POST /posts/create 303 in 138ms
 POST /posts/create 303 in 75ms
 POST /posts/create 303 in 43ms
 POST / 303 in 102ms
